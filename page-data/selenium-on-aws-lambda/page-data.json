{"componentChunkName":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx","path":"/selenium-on-aws-lambda","result":{"data":{"post":{"__typename":"MdxPost","slug":"/selenium-on-aws-lambda","title":"Selenium on AWS Lambda","date":"08.10.2020","tags":[{"name":"AWS Lambda","slug":"aws-lambda"},{"name":"Python","slug":"python"},{"name":"Docker","slug":"docker"},{"name":"Selenium","slug":"selenium"}],"description":"Building web scrapers to be deployed on AWS Lambda can be challenging. I'll discuss how and why I created a Lambda Selenium Starter and how to use it!","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Selenium on AWS Lambda\",\n  \"date\": \"2020-10-08T00:00:00.000Z\",\n  \"description\": \"Building web scrapers to be deployed on AWS Lambda can be challenging. I'll discuss how and why I created a Lambda Selenium Starter and how to use it!\",\n  \"tags\": [\"AWS Lambda\", \"Python\", \"Docker\", \"Selenium\"],\n  \"banner\": \"./python-lambda.jpg\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Selenium WebDriver is a powerful tool used for browser automation. It can be very useful for completing tasks such as testing web applications or web scraping. In certain cases, it may be more convenient to run these automations remotely - perhaps to reduce strain on your local resources or to perform identical tasks repeatedly on a schedule. A convenient solution to this is to run your automations on AWS Lambda. However, it can be quite challenging and inconvenient to add this functionality to your web automations. This is where the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/OpenLoopHealth/OpenLoopHealth.com\"\n  }), \"Lambda Selenium Starter\"), \" comes in. Follow this guide to begin developing your first web automation (in Python) with selenium on AWS Lambda.\"), mdx(\"h3\", null, \"Background\"), mdx(\"p\", null, \"During my time as an intern at \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://openloophealth.com/\"\n  }), \"OpenLoop Health\"), \", I developed many web scrapers in Python to collect information and perform repeated tasks. I realized that I would save a lot of time if I didn't have to allocate my local resources to run those functions. After writing many web scrapers and hosting one on AWS Lamda the hard way, I knew there had to be an easier way. On my own time, I began developing a starter to simplify the process of deploying web automations to AWS Lambda. An initial template and guide was provided by \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/jairovadillo/pychromeless/\"\n  }), \"21 Buttons\"), \". After lots of struggling, I developed a solution to seamlessly deploy web automations to AWS Lambda without changing the development process or requiring any additional knowledge outside of selenium commands.  \"), mdx(\"hr\", null), mdx(\"h3\", null, \"Requirements\"), mdx(\"p\", null, \"Before we get started, you'll need access to the following:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://docs.docker.com/engine/installation/#get-started\"\n  }), \"Install Docker\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://docs.docker.com/compose/install/#install-compose\"\n  }), \"Install Docker Compose\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"An AWS account \")), mdx(\"hr\", null), mdx(\"h3\", null, \"Initial Development\"), mdx(\"p\", null, \"First, head over to the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/OpenLoopHealth/lambda-selenium-starter\"\n  }), \"repository\"), \" where the starter is found and clone it. Navigate to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"lambda_function.py\"), \" to view a sample automation program. This is where you will develop your web automation. You can write your selenium functions as usual with three minor changes: \"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Any time you need to use the driver methods, your function needs to accept \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"driver\"), \" as a parameter. Let's look at a quick example:\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-:title=lambda_function.py\",\n    \"metastring\": \"{2}\",\n    \"{2}\": true\n  }), \"def google(driver):\\n  driver.get(\\\"www.google.com\\\")\\n  print(\\\"You made it to Google!\\\")\\n\")), mdx(\"p\", null, \"Because our function, google, uses a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"driver method\"), \" to load a page, the function must accept the driver instance. Now, let's look at another example:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-:title=lambda_function.py\"\n  }), \"def smile():\\n  print(\\\"A smile looks great on you!\\\")\\n\")), mdx(\"p\", null, \"Because our function, smile, doesn't use any \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"driver methods\"), \", we don't need it to accept the driver instance. \"), mdx(\"ol\", {\n    \"start\": 2\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Make sure that your main function call comes from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"lambda_handler\"), \", as that's what Lambda looks for when it's run. \")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"If you add any additional imports (that require installation), be sure to add them in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"requirements.txt\"), \". Check out the file to see what it looks like. Essentially, you'll need to include the name and the version of the package you'd like to use.\"))), mdx(\"p\", null, \"If you want to see what files you might be modifying or adding in a typical web automation, check out this \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://gist.github.com/noahsb/37f5746ea55f0bc9a9228cea164fec52\"\n  }), \"gist\"), \". Notice how I wanted to include the package \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"python-dotenv\"), \", so I added it to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"requirements.txt\"), \". In addition, you can see how I added a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".env\"), \" file to store sensitive information (login credentials in our case) which can easily be accessed with this import. Cool, right?\"), mdx(\"hr\", null), mdx(\"h3\", null, \"Testing Locally\"), mdx(\"p\", null, \"It's much easier to test your function locally in docker than to debug the errors in AWS. Once you've added all the necessary dependencies for your function, use docker to run:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-noLineNumbers\"\n  }), \"make fetch-dependencies\\n\")), mdx(\"p\", null, \"To run your function locally, use: \"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-noLineNumbers\"\n  }), \"make docker-run\\n\")), mdx(\"p\", null, \"Once you're happy with the results, you can move on to building the distributable package\"), mdx(\"hr\", null), mdx(\"h3\", null, \"Building the distributable package\"), mdx(\"p\", null, \"To create a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".zip\"), \" file that will later be uploaded to AWS Lambda, run the following docker command: \"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-noLineNumbers\"\n  }), \"make build-lambda-package\\n\")), mdx(\"hr\", null), mdx(\"h3\", null, \"AWS Lambda Setup\"), mdx(\"p\", null, \"Lambda is Amazon\\u2019s serverless application platform. It lets you write or upload a script that runs according to various triggers you give it. For example, it can be run every day at a certain time. If you want to read more about lambda, check \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.aws.amazon.com/lambda/latest/dg/welcome.html\"\n  }), \"this\"), \" out.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Go to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://console.aws.amazon.com/lambda/\"\n  }), \"AWS Lambda\"), \" and hit \\\"Create a new function\\\" \")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Choose \\\"Author from Scratch\\\". Give it a function name, and choose Python 3.6 as the runtime. For now, we'll leave the permissions as the default. Click \\\"Create function\\\"\"))), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"37.083333333333336%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3aAD/8QAFRABAQAAAAAAAAAAAAAAAAAAARD/2gAIAQEAAQUCL//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEAAT8hX//aAAwDAQACAAMAAAAQ88//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAYEAADAQEAAAAAAAAAAAAAAAAAARExYf/aAAgBAQABPxBli0nEQ//Z')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Create Function\",\n    \"title\": \"Create Function\",\n    \"src\": \"/static/22fe01fbc778b68b7640652cdf61af22/18e3b/create-function.jpg\",\n    \"srcSet\": [\"/static/22fe01fbc778b68b7640652cdf61af22/46946/create-function.jpg 240w\", \"/static/22fe01fbc778b68b7640652cdf61af22/55489/create-function.jpg 480w\", \"/static/22fe01fbc778b68b7640652cdf61af22/18e3b/create-function.jpg 960w\", \"/static/22fe01fbc778b68b7640652cdf61af22/60e21/create-function.jpg 1440w\", \"/static/22fe01fbc778b68b7640652cdf61af22/09769/create-function.jpg 1700w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), mdx(\"ol\", {\n    \"start\": 3\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Optional: Now that you're in the main Lambda dashboard, you can configure your function to run at specific times. Click on \\\"Add trigger\\\" and choose \\\"EventBridge (CloudWatch Events)\\\"\")), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"35.833333333333336%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3aAH/8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQABBQJ//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAFhABAQEAAAAAAAAAAAAAAAAAEQAQ/9oACAEBAAE/ISM//9oADAMBAAIAAwAAABCAD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAAICAwAAAAAAAAAAAAAAAAABESExYZH/2gAIAQEAAT8QVMJPpAjSP//Z')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Add Trigger\",\n    \"title\": \"Add Trigger\",\n    \"src\": \"/static/e9b5fe154128ea0e522f1fb243186bf2/18e3b/add-trigger.jpg\",\n    \"srcSet\": [\"/static/e9b5fe154128ea0e522f1fb243186bf2/46946/add-trigger.jpg 240w\", \"/static/e9b5fe154128ea0e522f1fb243186bf2/55489/add-trigger.jpg 480w\", \"/static/e9b5fe154128ea0e522f1fb243186bf2/18e3b/add-trigger.jpg 960w\", \"/static/e9b5fe154128ea0e522f1fb243186bf2/60e21/add-trigger.jpg 1440w\", \"/static/e9b5fe154128ea0e522f1fb243186bf2/50cab/add-trigger.jpg 1692w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), mdx(\"p\", null, \"From there, you can create a new rule or use an existing one. The \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"schedule expression\"), \" accepts cron expressions. For more on cron syntax, read \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.aws.amazon.com/lambda/latest/dg/tutorial-scheduled-events-schedule-expressions.html\"\n  }), \"this\"), \". As a quick example, if I wanted to run my automation every morning at 3 AM GST, I'd use the following:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-noLineNumbers\"\n  }), \"cron(0 3 * * ? *)\\n\")), mdx(\"p\", null, \"Click add to save your trigger\"), mdx(\"ol\", {\n    \"start\": 4\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Next, let's set up our environment variables. Because we're uploading a Chrome browser, we need to tell Lambda where to find it. Navigate to \\\"Environment variables\\\" on your function page and click \\\"Edit\\\"\")), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"17.5%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB34FB/8QAFhAAAwAAAAAAAAAAAAAAAAAAAAEQ/9oACAEBAAEFAhT/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAYEAACAwAAAAAAAAAAAAAAAAAAARARUf/aAAgBAQABPyGFLD//2gAMAwEAAgADAAAAEAAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGBABAAMBAAAAAAAAAAAAAAAAAQARITH/2gAIAQEAAT8QoDCaG4t0M//Z')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Environment Variables\",\n    \"title\": \"Environment Variables\",\n    \"src\": \"/static/396adfeb789570692a457c8bf4cc1dc0/18e3b/environment-variables.jpg\",\n    \"srcSet\": [\"/static/396adfeb789570692a457c8bf4cc1dc0/46946/environment-variables.jpg 240w\", \"/static/396adfeb789570692a457c8bf4cc1dc0/55489/environment-variables.jpg 480w\", \"/static/396adfeb789570692a457c8bf4cc1dc0/18e3b/environment-variables.jpg 960w\", \"/static/396adfeb789570692a457c8bf4cc1dc0/60e21/environment-variables.jpg 1440w\", \"/static/396adfeb789570692a457c8bf4cc1dc0/8ea48/environment-variables.jpg 1699w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), mdx(\"p\", null, \"Click \\\"Add environment variable\\\" and add the following:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"PATH = /var/task/bin\\nPYTHONPATH = /var/task/src:/var/task/lib\\n\")), mdx(\"p\", null, \"Hit save after you've confirmed you have added the two environment variables correctly\"), mdx(\"ol\", {\n    \"start\": 5\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Optional: Edit your basic settings. Depending on what your function does, it may require additional memory or time to run. You can modify this under \\\"Basic settings\\\"\")), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"852px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"46.25%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAQAF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3kgmP//EABYQAAMAAAAAAAAAAAAAAAAAABARIP/aAAgBAQABBQIKP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABkQAAEFAAAAAAAAAAAAAAAAAAABESBBcf/aAAgBAQABPyFMLGw//9oADAMBAAIAAwAAABAzH//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxBtf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAAMBAAMAAAAAAAAAAAAAAAERIQAgYZH/2gAIAQEAAT8QEMlvcqkxa0b2eH//2Q==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Edit Settings\",\n    \"title\": \"Edit Settings\",\n    \"src\": \"/static/1afce6664daefb6b9eae1fd7caca8b58/0ae95/edit-settings.jpg\",\n    \"srcSet\": [\"/static/1afce6664daefb6b9eae1fd7caca8b58/46946/edit-settings.jpg 240w\", \"/static/1afce6664daefb6b9eae1fd7caca8b58/55489/edit-settings.jpg 480w\", \"/static/1afce6664daefb6b9eae1fd7caca8b58/0ae95/edit-settings.jpg 852w\"],\n    \"sizes\": \"(max-width: 852px) 100vw, 852px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), mdx(\"p\", null, \"Notes: Lambda won't use more memory than you specify (and will terminate if you do), but if you specify more than it needs, you won't be billed for what it doesn't use. Additionally, consider 'timeout' to mean 'time to run function'. Make sure you allocate enough time to your function or it may be terminated early. The maximum time Lambda allows is 15 minutes - if you think your automation will require more, then you might want to consider other alternatives.\"), mdx(\"ol\", {\n    \"start\": 6\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Upload your function. If you've tested your function and are happy with it, it's time to upload it! Typically, this will require uploading a file from Amazon S3. Upload your .zip to S3 and then upload it to your function code. \")), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"17.083333333333332%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdywQD//xAAWEAADAAAAAAAAAAAAAAAAAAAAEBH/2gAIAQEAAQUCUP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABgQAAIDAAAAAAAAAAAAAAAAAAABEBFB/9oACAEBAAE/IdUUP//aAAwDAQACAAMAAAAQgA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAZEAEAAgMAAAAAAAAAAAAAAAABABFBcZH/2gAIAQEAAT8QSgMyps6z/9k=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Upload Function\",\n    \"title\": \"Upload Function\",\n    \"src\": \"/static/7c5930ebaebe89ff6a31b3239ad713c0/18e3b/upload-function.jpg\",\n    \"srcSet\": [\"/static/7c5930ebaebe89ff6a31b3239ad713c0/46946/upload-function.jpg 240w\", \"/static/7c5930ebaebe89ff6a31b3239ad713c0/55489/upload-function.jpg 480w\", \"/static/7c5930ebaebe89ff6a31b3239ad713c0/18e3b/upload-function.jpg 960w\", \"/static/7c5930ebaebe89ff6a31b3239ad713c0/60e21/upload-function.jpg 1440w\", \"/static/7c5930ebaebe89ff6a31b3239ad713c0/8fa29/upload-function.jpg 1718w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), mdx(\"hr\", null), mdx(\"h3\", null, \"Run your automation\"), mdx(\"p\", null, \"Congrats on making it this far! To invoke your function with the AWS CLI, you can run the following command:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-noLineNumbers\"\n  }), \"aws lambda invoke --function-name yourFunctionName out --log-type Tail\\n\")), mdx(\"p\", null, \"Viola! You now have an automation deployed and running on AWS Lambda \\uD83D\\uDE80\"), mdx(\"hr\", null), mdx(\"h3\", null, \"Closing Remarks\"), mdx(\"p\", null, \"While this guide details how to develop and upload an automation to AWS Lambda, you can do much more than that! As a quick example, you can read/write to S3 (see \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"requirements.txt\"), \") with just a few small changes. Consider this your invitation to explore additional functionality you can add to your web automation!\"), mdx(\"hr\", null), mdx(\"h3\", null, \"Shouts to\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Robert Rocha's \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://robertorocha.info/setting-up-a-selenium-web-scraper-on-aws-lambda-with-python/\"\n  }), \"guide\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"21 Button's \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/jairovadillo/pychromeless\"\n  }), \"repo\"))), mdx(CommentBox, {\n    mdxType: \"CommentBox\"\n  }));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Selenium WebDriver is a powerful tool used for browser automation. It can be very useful for completing tasks such as testing webâ€¦","timeToRead":4,"banner":{"childImageSharp":{"resize":{"src":"/static/cd0ba42affd5cb58e70959e16f8d6526/a6c62/python-lambda.jpg"}}}}},"pageContext":{"slug":"/selenium-on-aws-lambda","formatString":"DD.MM.YYYY"}},"staticQueryHashes":["318001574","3787687951","3787687951"]}